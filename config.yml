recipe: default.v1

# Primary language is Hindi with English code-switching (Hinglish)
language: hi
additional_languages:
  - "en"   # English

assistant_id: battery-smart-voicebot

pipeline:
  - name: CompactLLMCommandGenerator

  - name: WhitespaceTokenizer
  - name: RegexFeaturizer
  - name: LexicalSyntacticFeaturizer
  - name: CountVectorsFeaturizer

  - name: DIETClassifier
    epochs: 100

  - name: FallbackClassifier
    threshold: 0.45

    llm:
      model_group: gemini_llm
      user_input:
        max_characters: 420

policies:
  - name: FlowPolicy

  - name: EnterpriseSearchPolicy
    vector_store:
      type: faiss
      source: ./docs
    llm:
      model_group: gemini_llm
    embeddings:
      model_group: openai_embeddings
    check_relevancy: true

# âœ… MUST be top-level
model_groups:
  - id: gemini_llm
    models:
      - provider: gemini
        model: gemini-pro

  - id: openai_embeddings
    models:
      - provider: openai
        model: text-embedding-3-small
